% To Serve Man — LaTeX Preamble
% Beautiful cookbook typography

\documentclass[10pt,twoside,openright]{book}

% Page geometry with elegant proportions
\usepackage[
    paperwidth=8.5in,
    paperheight=11in,
    top=1.25in,
    bottom=1.25in,
    inner=1.5in,
    outer=1in
]{geometry}

% Font configuration
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{microtype} % Improved typography

% Use EB Garamond for body text (elegant serif like Cormorant)
\usepackage{ebgaramond}

% Use Helvetica for sans-serif
\usepackage{helvet}

% Better line spacing (match website's leading-relaxed = 1.625)
\usepackage{setspace}
\setstretch{1.625}

% Section formatting
\usepackage{titlesec}

% Part formatting - elegant, simple (no small caps)
\titleformat{\part}[display]
    {\normalfont\Huge\filcenter}
    {\partname\ \thepart}
    {20pt}
    {\Huge}

% Chapter formatting - recipe category (no small caps)
\titleformat{\chapter}[display]
    {\normalfont\huge\filcenter}
    {}
    {0pt}
    {\huge}

% Section formatting - recipe title (proportionally smaller: 30pt instead of 36pt)
% Using semibold (600) to match website
\titleformat{\section}
    {\normalfont\fontsize{30}{36}\selectfont\fontseries{sb}\selectfont}
    {}
    {0pt}
    {}

% Large text for "Ingredients" and "Instructions" labels (15pt instead of 18pt)
\newcommand{\ingredientsheading}{\fontsize{15}{18}\selectfont\fontseries{sb}\selectfont}
\newcommand{\instructionsheading}{\fontsize{15}{18}\selectfont\fontseries{sb}\selectfont}

% Subsection - recipe section headers (12pt instead of 15pt)
\titleformat{\subsection}
    {\normalfont\fontsize{12}{15}\selectfont\fontseries{sb}\selectfont}
    {}
    {0pt}
    {}

% Lists
\usepackage{enumitem}
\usepackage{xcolor}

% Define accent color (matches website's cookbook-accent: #8b6f47)
\definecolor{accentcolor}{HTML}{8b6f47}

% Ingredients list - clean, simple (em-dash bullets)
\newlist{ingredients}{itemize}{1}
\setlist[ingredients]{
    label={\color{accentcolor}—},
    leftmargin=2em,
    itemsep=1em,
    parsep=0pt
}

% Instructions list - numbered with large semibold numbers (15pt instead of 18pt)
\setlist[enumerate]{
    label={\fontsize{15}{18}\fontseries{sb}\selectfont\color{accentcolor}\arabic*},
    leftmargin=4em,
    itemsep=2em,
    parsep=0pt
}

% Headers and footers
\usepackage{fancyhdr}
\pagestyle{fancy}
\fancyhf{}
\fancyhead[LE]{\small\itshape\nouppercase{\leftmark}}
\fancyhead[RO]{\small\itshape\nouppercase{\rightmark}}
\fancyfoot[LE,RO]{\thepage}
\renewcommand{\headrulewidth}{0pt}

% Chapter page style (no header)
\fancypagestyle{plain}{
    \fancyhf{}
    \fancyfoot[C]{\thepage}
    \renewcommand{\headrulewidth}{0pt}
}

% Hyperlinks (for digital PDF)
\usepackage[
    colorlinks=true,
    linkcolor=black,
    urlcolor=black,
    citecolor=black,
    bookmarks=true,
    bookmarksnumbered=false,
    pdfborder={0 0 0}
]{hyperref}

% Better tables
\usepackage{booktabs}

% Graphics (if needed for images)
\usepackage{graphicx}

% Better quotes
\usepackage{csquotes}

% Widow and orphan control
\widowpenalty=10000
\clubpenalty=10000

% Table of contents formatting
\usepackage{tocloft}
\renewcommand{\cftchapfont}{\normalfont}
\renewcommand{\cftchappagefont}{\normalfont}
\setlength{\cftbeforechapskip}{0.5em}

% Define light text color (matches website's cookbook-light: #6b6560)
\definecolor{lighttext}{HTML}{6b6560}

% Custom commands for recipe metadata
\newcommand{\recipemeta}[1]{%
    \begin{center}
    {\small\color{lighttext}\itshape #1}
    \end{center}
    \vspace{1em}
}

\newcommand{\recipedescription}[1]{%
    \begin{center}
    \begin{minipage}{0.8\textwidth}
    {\normalsize\color{lighttext}\itshape #1}
    \end{minipage}
    \end{center}
    \vspace{1.5em}
}

\newcommand{\recipeattribution}[1]{%
    \vspace{1em}
    \begin{flushright}
    {\small\color{lighttext}#1}
    \end{flushright}
}

% Spacing adjustments
\setlength{\parindent}{0pt}
\setlength{\parskip}{0.5em}

% Start of document content
\begin{document}

% Front matter
\frontmatter

% Half-title page
\begin{titlepage}
\centering
\vspace*{3in}
{\Huge {{COOKBOOK_TITLE}}}
\end{titlepage}

\cleardoublepage

% Title page
\begin{titlepage}
\centering
\vspace*{2in}
{\Huge {{COOKBOOK_TITLE}}}\\[1.5em]
{\Large A Personal Cookbook}\\[3em]
{{COOKBOOK_AUTHOR_LINE}}
{\large Generated \today}
\end{titlepage}

\cleardoublepage

% Epigraph
\thispagestyle{empty}
\vspace*{3in}
\begin{center}
\large\itshape
``It's a cookbook!''
\end{center}

\cleardoublepage

% Table of contents
\tableofcontents

\cleardoublepage

% Main matter
\mainmatter
