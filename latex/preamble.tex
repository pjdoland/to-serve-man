% To Serve Man — LaTeX Preamble
% Beautiful cookbook typography

\documentclass[10pt,twoside,openright]{book}

% Page geometry with elegant proportions
\usepackage[
    paperwidth=8.5in,
    paperheight=11in,
    top=1.25in,
    bottom=1.25in,
    inner=1.5in,
    outer=1in
]{geometry}

% Font configuration
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{microtype} % Improved typography

% Use EB Garamond for body text (elegant serif like Cormorant)
\usepackage{ebgaramond}

% Use Helvetica for sans-serif
\usepackage{helvet}

% Better line spacing (1.4 for good readability at 10pt base)
\usepackage{setspace}
\setstretch{1.4}

% Section formatting
\usepackage{titlesec}

% Part formatting - elegant, simple (no small caps)
\titleformat{\part}[display]
    {\normalfont\Huge}
    {\partname\ \thepart}
    {20pt}
    {\Huge}

% Chapter formatting - recipe category (no small caps)
\titleformat{\chapter}[display]
    {\normalfont\huge}
    {}
    {0pt}
    {\huge}

% Section formatting - recipe title (modest size: 20pt for professional look)
% Using semibold (600) for hierarchy without being garish
\titleformat{\section}
    {\normalfont\fontsize{20}{24}\selectfont\fontseries{sb}\selectfont}
    {}
    {0pt}
    {}
    [\vspace{0.5em}]  % Add space after recipe title

% Section labels: "Ingredients" and "Instructions" (13pt - clear but modest)
\newcommand{\ingredientsheading}{\fontsize{13}{16}\selectfont\fontseries{sb}\selectfont}
\newcommand{\instructionsheading}{\fontsize{13}{16}\selectfont\fontseries{sb}\selectfont}

% Subsection - recipe section headers like "Make the sauce" (11pt)
\titleformat{\subsection}
    {\normalfont\fontsize{11}{13}\selectfont\fontseries{sb}\selectfont}
    {}
    {0pt}
    {}
    [\vspace{0.25em}]  % Add subtle space after subsection

% Lists
\usepackage{enumitem}
\usepackage{xcolor}

% Define accent color (matches website's cookbook-accent: #8b6f47)
\definecolor{accentcolor}{HTML}{8b6f47}

% Ingredients list - clean, simple with em-dash bullets
% Consistent 1.5em indentation for visual hierarchy
\newlist{ingredients}{itemize}{1}
\setlist[ingredients]{
    label={\color{accentcolor}—},
    leftmargin=1.5em,
    itemsep=0.5em,
    parsep=0pt,
    topsep=0.75em
}

% Instructions list - numbered with modest semibold numbers (12pt)
% 3em indentation provides clear hierarchy and space for 2-digit numbers
\setlist[enumerate]{
    label={\fontsize{12}{14}\fontseries{sb}\selectfont\color{accentcolor}\arabic*.},
    leftmargin=3em,
    itemsep=1.25em,
    parsep=0pt,
    topsep=0.75em
}

% Headers and footers
\usepackage{fancyhdr}
\pagestyle{fancy}
\fancyhf{}
\fancyhead[LE]{\small\itshape\nouppercase{\leftmark}}
\fancyhead[RO]{\small\itshape\nouppercase{\rightmark}}
\fancyfoot[LE,RO]{\thepage}
\renewcommand{\headrulewidth}{0pt}

% Add spacing between headers/footers and content
\setlength{\headheight}{14pt}
\setlength{\headsep}{2em}
\setlength{\footskip}{3em}

% Chapter page style (no header)
\fancypagestyle{plain}{
    \fancyhf{}
    \fancyfoot[C]{\thepage}
    \renewcommand{\headrulewidth}{0pt}
}

% Hyperlinks (for digital PDF)
\usepackage[
    colorlinks=true,
    linkcolor=black,
    urlcolor=black,
    citecolor=black,
    bookmarks=true,
    bookmarksnumbered=false,
    pdfborder={0 0 0}
]{hyperref}

% Better tables
\usepackage{booktabs}

% Graphics (if needed for images)
\usepackage{graphicx}

% Better quotes
\usepackage{csquotes}

% Widow and orphan control
\widowpenalty=10000
\clubpenalty=10000

% Table of contents formatting
\usepackage{tocloft}
\renewcommand{\cftchapfont}{\normalfont}
\renewcommand{\cftchappagefont}{\normalfont}
\setlength{\cftbeforechapskip}{0.5em}

% Define light text color (matches website's cookbook-light: #6b6560)
\definecolor{lighttext}{HTML}{6b6560}

% Custom commands for recipe metadata with consistent spacing (left-aligned)
\newcommand{\recipemeta}[1]{%
    \vspace{0.25em}
    {\small\color{lighttext}\itshape #1}
    \par
}

\newcommand{\recipedescription}[1]{%
    \vspace{0.75em}
    {\normalsize\color{lighttext}\itshape #1}
    \par
}

\newcommand{\recipeattribution}[1]{%
    \vspace{2em}
    {\small\color{lighttext}#1}
    \par
}

% Spacing adjustments
\setlength{\parindent}{0pt}
\setlength{\parskip}{0.5em}

% Start of document content
\begin{document}

% Front matter
\frontmatter

% Half-title page
\begin{titlepage}
\vspace*{3in}
{\Huge {{COOKBOOK_TITLE}}}
\end{titlepage}

\cleardoublepage

% Title page
\begin{titlepage}
\vspace*{2in}
{\Huge {{COOKBOOK_TITLE}}}\\[1.5em]
{\Large A Personal Cookbook}\\[3em]
{{COOKBOOK_AUTHOR_LINE}}
{\large Generated \today}
\end{titlepage}

\cleardoublepage

% Epigraph
\thispagestyle{empty}
\vspace*{3in}
{\large\itshape``It's a cookbook!''}

\cleardoublepage

% Table of contents
\tableofcontents

\cleardoublepage

% Main matter
\mainmatter
